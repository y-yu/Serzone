<html lang="jp">
<head>
    <meta charset="utf-8" />
    <title>Serzone.js</title>
    
	<meta name="author" content="yoshimuraYuu" />
	<link href="css/default.css" rel="stylesheet" />
</head>
<body>
<script>
var Serzone = {};
Serzone.action = {};

function arrayify (e) {
	return Array.prototype.slice.call(e);
}

Serzone.action = {
	changeSlide : {
		type : "next",
		init : function (o) {
			var slide = o.obj;

			if (slide.order == 0) {
				document.body.removeChild( document.getElementById("serzone") );
			}

			if (slide.depth == 0) {
				if (slide.order > 0) {
					Serzone.canvas.removeChild(slide.previous.body);
				}
				Serzone.canvas.appendChild(slide.body);

				var tbody = document.createElement("tbody");
				tbody.appendChild(
					slide.children.map( function (s) {
						var td = document.createElement("td");
						td.style.border = "1px #000 solid";
						td.appendChild(s.body);
						return td;
					}).reduce( (function (tr, td) {
						tr.appendChild(td);
						return tr;
					}), document.createElement("tr")) );

				var table = document.createElement("table");
				table.appendChild(tbody);
				var scale = 0.5; //1 / slide.children.length - (0.25 * (1 / slide.children.length));
				table.style.webkitTransform = "scale(" + scale + "," + scale + ")";
				table.style.border = "0px #000 none";

				//slide.body.style.border = "1px #00F solid";
				slide.body.appendChild(table);
				Serzone.canvas.appendChild(slide.body);
				table.style.webkitTransformOrigin = "100px";
			} else {
				Serzone.canvas.removeChild(slide.previous.body);
				Serzone.canvas.appendChild(slide.body);
			}

			console.log("Slide init");
		},
		fire : function (o) {
			var slide = o.obj;

			if (slide.depth > 0) {
				Serzone.canvas.removeChild
			}
			console.log("Slide fire");
		}
	},


	appear : {
		type : "inherit",
		init : function (o) {
			o.obj.style.color = "white";
			console.log("appear init");
		},
		fire : function (o) {
			o.obj.style.color = "black";
			console.log("appear fire");		
		}
	},

	test : {
		type : "test",
		init : function (o) {
			console.log("test init");
		},
		fire : function (o) {
			console.log("test fire");
		}
	}
};
</script>

<div id="serzone">

<section>
	<h1>Serzone.js</h1>

	<br>
	<br>
	<br>
	<br>
	<p class="r">吉村　優</p>
</section>

<section>
	<h1>概要</h1>

	<section>
		<h1>プレゼンテーションシステム</h1>
	</section>
</section>


</div>

<script src="js/Serzone.js"></script>
<script>
Serzone.start();
</script>

</body>
</html>
